var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},t={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in l)return l[e].exports;if(e in t){var n=t[e];delete t[e];var i={id:e,exports:{}};return l[e]=i,n.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,l){t[e]=l},e.parcelRequired7c6=n);var i=n("gYdnx"),o=n("aFV0K"),s=n("blxeU");n("blxeU"),s=n("blxeU");const a=document.querySelector(".film__list-lib"),c=new(0,i.TheMovieApi),d=c.fetchTrendsFilms(),r=c.fetchTrendsFilms(),u=document.querySelector("#watched"),m=document.querySelector("#queue"),p=document.querySelector("#clear"),f=document.querySelector(".empty__bg");function g(){d.then((e=>{v(e.data.results,"watched")}))}function v(e,l){console.log(e),a.innerHTML="";const t=e.map((e=>null===JSON.parse(localStorage.getItem(`local-${l}`))?(a.innerHTML="",void(f.style.display="block")):JSON.parse(localStorage.getItem(`local-${l}`)).includes(e.id)?(f.style.display="none",`\n                    <li class="film__item" id="${e.id}">\n                    <img class="film__img" src="https://image.tmdb.org/t/p/w500/${e.poster_path}" alt=${e.original_title} id="${e.id}">\n                    <h3 class="film__name">${e.title}</h3>\n                    <p class="film__genre">\n                    ${e.genre_ids.map((e=>` ${e=(0,o.getNumberFilms)(e)}`))}\n                    <span class="film__date-release">| ${e.release_date.slice(0,4)}</span>\n                    <span class="film__rating">${e.vote_average}</span>\n                    </p>\n                    </li>`):void 0)).join("");a.insertAdjacentHTML("beforeend",t);const n=document.querySelectorAll(".film__item"),c=e=>{const l=document.querySelector(".modal-close-icon"),t=document.querySelector(".backdrop"),n=document.querySelector(".modal-box");t.classList.add("is-open"),n.classList.add("is-open"),l.addEventListener("click",s.onCloseModal),t.addEventListener("click",s.onClickBackdrop);const o=(new(0,i.TheMovieApi)).fetchTrendsFilms(),a=Number(e.currentTarget.id);o.then((e=>{console.log(e);const l=e.data.results;(0,s.searchFilmsFunction)(l,a)}))};n.forEach((e=>e.addEventListener("click",c)))}u.disabled=!0,g(),u.addEventListener("click",(e=>{console.log("hhh"),m.disabled=!1,u.disabled=!0,m.classList.add("active"),u.classList.remove("active"),g()})),m.addEventListener("click",(e=>{u.disabled=!1,m.disabled=!0,u.classList.add("active"),m.classList.remove("active"),r.then((e=>{v(e.data.results,"queue")}))})),p.addEventListener("click",(e=>{localStorage.removeItem("local-watched"),localStorage.removeItem("local-queue"),a.innerHTML="",f.style.display="block"}));
//# sourceMappingURL=library.684da4ac.js.map
