// FOR SEARCH
<<<<<<< Updated upstream
const input = document.querySelector('.header__input');
=======
import { TheMovieApi } from './themovie-api';
import { getNumberFilms } from "./gallery";

const listElem = document.querySelector('.film__list-search');
const input = document.querySelector('.header__input');
const theMovieApi = new TheMovieApi();
>>>>>>> Stashed changes

const filmsPromiseElq = theMovieApi.fetchTrendsFilms();
input.addEventListener("input", (event) => {
    renderSearch(event.currentTarget.value);
    console.log(event.currentTarget.value);
  });

function renderSearch(el){
    console.log(el);
<<<<<<< Updated upstream
}
=======
    filmsPromiseElq.then(result => {
      const films = result.data.results;
      trendsFilms(films, el);
    });
}

function trendsFilms(films, name) {
  const markupItems = films
    .map(film => {
      if (film.title.toLowerCase().includes(name.toLowerCase())) {
        return `
          <li class="film__item" id="${film.id}">
            <img class="film__img" src="https://image.tmdb.org/t/p/w500/${
              film.poster_path
            }" alt=${film.original_title}>
            <h3 class="film__name">${film.title}</h3>
            <p class="film__genre">
              ${film.genre_ids.map(item => {
                item = getNumberFilms(item)
                return` ${item}`
              })}
              <span class="film__date-release">| ${film.release_date.slice(
                0,
                4
              )}</span>
            </p>
          </li>`;}
    })
    .join('');
  listElem.insertAdjacentHTML('beforeend', markupItems);
  const filmsCheck = document.querySelectorAll('.film__item')
  filmsCheck.forEach(film => film.addEventListener('click', onClickGallery))
}



// ###########################################################################################################
// ########==================================+===+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++==
// #########%%==========================================++++++++++++++++++++++++++++++++++++++++==============
// ##########@%%%%%%==============**===============================++++++++===================================
// ############%%%%%==%*...::-....-*:--.-+==============================%=====================================
// #############%%%...--..-:...*.:*:*-....-*+=================================================================
// ##############-:-.-=++**+*:.-:::*=:*-:.....*===============================++++====++++==+=+++===========%%
// ############@*....::::+*:..-:::-::*:-.-....-.+%===%=%============%%%%%%======%============================%
// ######%####%=*.............---.--.....-----...-+%%%%%%%%%================%%@@##############################
// #####@####+=+:+*:---::-+:*.---.---::::.---...-...=%%%%#####################################################
// #########%%%**:+++%%:*++--::::**++**::::.........*###############################################@@#@######
// ###@#####+:::**+*=+=%-........-....-..*+*......-..###################@#####@@@#####@@@@@@@@@@##@@@@@#######
// #########++**+=*..........::::.-*+++++-.-*.....-..-#######################################@@@@@@@@@@@@##@@@
// #@######@+**.............-..:*+++==++*::***:-..---:-#############@##@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##@@
// ###@##%.................-*+++++=%%=++=+-::::...:-+*@###@@@@@@@@@@@##@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#@@
// ##@:................:-*++++++==%%=%%%%::-........:*%@@@@@@@@@@@@@@@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##%
// #:............--::::--+++==%%%+=@@@%==:---.......--+@@@@@@@@@@@@@@@##@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%@@%@@#@
// -......--:::**++***+++==+@@#@%=**+++*:-...........+%%@@@@@@@@@@@@@@##@@@@@@@@@@@@@%@@@@@@@@################
// --.....-::**++++++====%%%@@+=%%++:-=+++:-.........*%%%%@@@@@@@@@@@@##@@@@@@@@@@@@@@@@@@@@@@@@%@@@%%%%%%%%@#
// --:**::::*++++==========%%%%%%%=+:::*%%++:-.......-%%%%@@%@@@@@%@@%##%@@@@@@@@@@@@@%%@@@@@@@@@@@@@@@@@@@@@@
// :::--::::*==+=@##@@%++====%%%%===*%%++++:**:.......:-..-%=.@%%=-........+%%%%%%%%%%%%@====++++++++=======@@
// :-----::*+=%%#######@+=====%=%@@@%@+**++=+-:-..............................:%%%%%%%%%@===++++++++++======%%
// ------::*+%%@#########++=====%%%%%%=@++++**-........................-........%%%%%%%%@==++++++++++++=====%%
// ------:::*.+@######@#+@=+====%%%@%==%=+++-........--....... . ....-............-:=@%%@==++++++++++++=====%%
// -------::%%%#-:*:*=%==##+++++===%%%%%=+*:--....:-:::.. ..........-..............++%@%@==++++++++++++=====%%
// -------:*-..--:*++=@@@#@##++++=++++=+*:-*-:---:-::-... ... .....-............. ..==@%%===++++++++++======%%
// -------:..---::*++%%%@@@@##%++=++*****:****+*+++*-.... ......-.:.....-............=@@@=%%%%=%+++++++=====%%
// ------::..-:::**=%+#%@@%@#@@%%%====++++====%===*.:..........-:-..... .............-%#%+===%@%++++=+======@%
// :-----:.--:*:**+=+%=@@%%@#@#%%%%###@%@@@@%%==**..-....... ...::.-..................:@@%@@@@@%%===%======%@%
// :----:-*--:***+=+=+%%=%@#@@#%%%===%@@@%@%+*--+..-............:......................@@#####################
// /
>>>>>>> Stashed changes
